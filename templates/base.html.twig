<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>{% block title %}TODOs PostIts!{% endblock %}</title>
        <link rel="icon" href="{{ asset("/images/icon.svg") }}">
        <link href="{{ asset('output.css') }}" rel="stylesheet">
        {% block stylesheets %}
        {% endblock %}

        {% block javascripts %}
            {% block importmap %}{{ importmap('app') }}{% endblock %}
        {% endblock %}
    </head>
    <body class="bg-gradient-to-br from-amber-50 via-orange-50 to-yellow-50 min-h-screen flex flex-col">
    {% if app.user %}
        <nav class="bg-gradient-to-r from-teal-600 to-cyan-600 shadow-lg">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center h-16">
                    <div class="flex items-center space-x-8">
                        <a href="{{ path('app_user_settings') }}" class="text-white hover:text-yellow-200 transition-colors duration-200 font-semibold text-lg flex items-center">
                            {% if app.user.avatar %}
                                <img
                                    src="{{ path('app_user_avatar', {id: app.user.id}) }}?v={{ 'now'|date('U') }}"
                                    alt="{{ app.user.username }} avatar"
                                    class="w-10 h-10 rounded-full border-2 border-white me-2 object-cover"
                                >
                            {% elseif app.user.steamID %}
                                <img
                                    src="{{ path('app_user_steam_avatar', {id: app.user.id}) }}"
                                    alt="{{ app.user.username }} avatar"
                                    class="w-10 h-10 rounded-full border-2 border-white me-2 object-cover"
                                >
                            {% else %}
                                <i class="fa-solid fa-user me-2"></i>
                            {% endif %}
                            {{ app.user.username }}
                        </a>
                        <a href="{{ path('app_sticky_board') }}" class="text-white hover:text-yellow-200 transition-colors duration-200 flex items-center">
                            <i class="fa-regular fa-house me-1"></i> Sticky Notes Board
                        </a>

                        <div class="relative group">
                            <button class="text-white hover:text-yellow-200 transition-colors duration-200 flex items-center cursor-pointer">
                                <i class="fa-regular fa-note-sticky me-1"></i> PostIts
                                <i class="fas fa-chevron-down ml-1 text-xs"></i>
                            </button>
                            <div class="absolute left-0 mt-2 w-56 bg-white rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                                <a href="{{ path('app_post_it_create') }}" class="flex items-center px-4 py-3 text-gray-800 hover:bg-yellow-100 rounded-t-lg transition-colors">
                                    <i class="fa-solid fa-plus text-green-600 me-2 w-5"></i> Stick a new Post-It!
                                </a>
                                <a href="{{ path('app_post_it_random') }}" class="flex items-center px-4 py-3 text-gray-800 hover:bg-yellow-100 rounded-b-lg transition-colors">
                                    <i class="fa-solid fa-shuffle text-purple-600 me-2 w-5"></i> Pick a random Post-It!
                                </a>
                            </div>
                        </div>

                        <div class="relative group">
                            <button class="text-white hover:text-yellow-200 transition-colors duration-200 flex items-center cursor-pointer">
                                <i class="fas fa-tags me-1"></i> Tags
                                <i class="fas fa-chevron-down ml-1 text-xs"></i>
                            </button>
                            <div class="absolute left-0 mt-2 w-56 bg-white rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                                <a href="{{ path('app_tag') }}" class="flex items-center px-4 py-3 text-gray-800 hover:bg-yellow-100 rounded-t-lg transition-colors">
                                    <i class="fas fa-list text-blue-600 me-2 w-5"></i> See all your tags!
                                </a>
                                <a href="{{ path('app_tag_create') }}" class="flex items-center px-4 py-3 text-gray-800 hover:bg-yellow-100 rounded-b-lg transition-colors">
                                    <i class="fa-solid fa-plus text-orange-600 me-2 w-5"></i> Create a new Tag!
                                </a>
                            </div>
                        </div>

                        <a href="{{ path('app_game') }}" class="text-white hover:text-yellow-200 transition-colors duration-200 flex items-center cursor-pointer">
                            <i class="fa-brands fa-steam me-1"></i> Reward yourself with a game!
                        </a>
                    </div>
                    <a href="{{ path('app_logout') }}" class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center shadow-md">
                        <i class="fa-solid fa-arrow-right-from-bracket me-1"></i> Log out
                    </a>
                </div>
            </div>
        </nav>
    {% endif %}

        <main class="container mx-auto px-4 py-8 flex-grow">
            {% block body %}{% endblock %}
        </main>

        <footer class="bg-gray-800 text-white py-6 mt-auto">
            <div class="container mx-auto text-center">
                <p class="text-m">
                    Â©2025{{ "now"|date("Y") != "2025" ? ['-', "now"|date("Y")]|join() : ""}}
                    <a
                        href="https://github.com/HikariYlan"
                        class="text-orange-400 hover:text-orange-300 transition-colors duration-200"
                    >
                        <i class="fa-brands fa-github text-white"></i> Hikari / Ylan
                    </a>
                    | Made with <i class="fa-solid fa-heart text-red-500"></i> (and <a
                        href="https://symfony.com" class="text-orange-400 hover:text-orange-300 transition-colors duration-200"
                    >
                        Symfony <i class="fa-brands fa-symfony text-white"></i>
                    </a>)
                </p>
            </div>
        </footer>
        <script src="https://kit.fontawesome.com/502d1754c4.js" crossorigin="anonymous"></script>
    </body>
</html>
